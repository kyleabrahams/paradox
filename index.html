<!doctype HTML>
<html>
  <head>
  
<!--------------------------------- REQUIRED --------------------------------->
  <script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
  <script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.5.5/aframe/build/aframe-ar.js"></script>

<!------------------------------- GLTF ANIMATION --------------------------------->
  <script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>

<!------------------------------  MP4 VIDEO SCRIPT ------------------------------->
  <script>                    
    AFRAME.registerComponent('video-vidhandler', {
        init: function() {
    console.log('video init entered');
            this.toggle = false;
            this.vid = document.querySelector("#mp4");
            this.vid.pause();
        },
        tick: function() {
            if (this.el.object3D.visible == true) {
                if (!this.toggle) {
                    this.toggle = true;
                    this.vid.play();
                }
            } else {
                this.toggle = false;
                this.vid.pause();
            }
        }
    });
  </script>

<!------------------------------- NOT REQUIRED ------------------------------->
  <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> -->
  <!-- <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.0/dist/aframe-extras.min.js"></script> -->
  <!-- <script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v3.8.3/dist/aframe-extras.min.js"></script> -->

</head>

  <body onload="startFunction();" style='margin : 0px; overflow: hidden;'>
    <a-entity camera></a-entity>
    
    <a-scene renderer="gammaOutput: false;" embedded arjs="debugUIEnabled: false;"> 
    
    

<!------------------------------- HIRO MARKER ------------------------------->
     
  <!-- MP4 VIDEO -->
    <!-- <a-marker preset='custom' type='pattern' url="markers/hiro.patt" video-vidhandler>
      <a-plane scale = "4 2" position='0 0.1 0' rotation="-90 0 0" material='transparent:true;src:#mp4' controls></a-plane>
      <video preload="none" id="mp4" response-type="arraybuffer" loop="false" crossorigin webkit-playsinline playsinline controls>
       <source  src="videos/DanceAssassin.mp4">
      </video>
    </a-marker> -->

  <!-- ANIMATED GLTF src="dancer_girl/scene.gtlf" , src="gyroscope/scene.gltf"-->
    <!-- <a-marker preset='custom' type='pattern' url="markers/hiro.patt">
      <a-asset-item id="gyroscope" src="gyroscope/scene.gltf"></a-asset-item>
      <a-entity gltf-model="#gyroscope" animation-mixer="loop:repeat" 
      scale="1.0 1.0 1.0" 
      position="0 0 0" 
      rotation="-90 0 0"></a-entity>
    </a-marker> -->

    <a-marker preset='custom' type='pattern' url="markers/hiro.patt">
      <a-asset-item id="dancer" src="dancer_girl/scene.gltf"></a-asset-item>
      <a-entity gltf-model="#dancer" animation-mixer="loop:repeat" 
      scale="0.04 0.04 0.04" 
      position="0 0 0" 
      rotation="-0 0 0"></a-entity>
    </a-marker>
    
    <!-- <a-marker preset='custom' type='pattern' url="markers/hiro.patt">
      <a-asset-item renderer="gammaOutput: true" id="robot" src="robot_1/scene.gltf"></a-asset-item>
      <a-entity gltf-model="#robot" animation-mixer="loop:repeat" 
      scale="0.5 0.5 0.5"
      position="0.25 0.0 0.9" 
      rotation="-90 0 0">
      </a-entity>
    </a-marker> -->

    <!-- light="type: hemisphere; color: #EEE; groundColor: #EEE; intensity: 2" -->


  <!-- GLTF -->
    <!-- <a-marker preset='custom' type='pattern' url="markers/hiro.patt">
      <a-asset-item id="Scamera" src="3DModels/security_camera/Scamera.gltf"></a-asset-item>
      <a-entity gltf-model="#Scamera"  
      scale="0.01 0.01 0.01"
      position="-0.1 0.3 0.4" 
      rotation="-90 0 0">
      </a-entity>
    </a-marker> -->

  <!-- FBX -->




<!------------------------------- L MARKER ------------------------------->

      <a-marker id="marker1" touchEvent emitedevents="true" cursor='rayOrigin: mouse' preset='custom' type='pattern' url="markers/newL.patt"> 
        <a-image material="alphaTest: 0.5" rotation="-90 0 0" position="0 1 0"  src="personImages/prdxText3.png" width="3.0" height="3.0"></a-image>
        <a-image rotation="-90 0 0" position="0 0 0"  src="personImages/mainPoster.png" width="2" height="2"></a-image>
        <a-image rotation="-90 0 0" position="-1.6 0.5 1"  src="personImages/juan.png" width="0.8" height="0.8"></a-image>
        <a-image rotation="-90 0 0" position="-0.8 0.5 1"  src="personImages/kaori.png" width="0.8" height="0.8"></a-image>
        <a-image rotation="-90 0 0" position="0  0.5 1"  src="personImages/kyle.png" width="0.8" height="0.8"></a-image>
        <a-image rotation="-90 0 0" position="0.8  0.5 1"  src="personImages/lena.png" width="0.8" height="0.8"></a-image>
        <a-image rotation="-90 0 0" position="1.6  0.5 1"  src="personImages/oscar.png" width="0.8" height="0.8"></a-image>  
      </a-marker>

<!------------------------------- T MARKER ------------------------------->

      <a-marker preset='custom' type='pattern' url="markers/newT.patt">
        <!-- <a-asset-item id="scene" src="free_ai/scene.gltf"></a-asset-item> -->
        <a-asset-item id="chevronL" src="3DModels/chevron.gltf"></a-asset-item>
        <a-entity position="0 0 0" rotation="0 90 0" gltf-model="#chevronL">
          <a-animation attribute="position"
          delay="0000"
          dur="1500"
          from="-0.4 0 0"
          to= "-6 0 0"
          direction="alternate"
          repeat="indefinite"
          easing="ease">
         </a-animation>
        </a-entity>
      </a-marker>

    </a-scene>
  </body>
</html>
